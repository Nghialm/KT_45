/*
insert license info here
*/
using System.Collections;
using System.ComponentModel;
using System.Data;
using System;
using Vns.Erp.Core.Admin.Domain;
using Vns.Erp.Core.Admin.Dao;
using Vns.Erp.Core.Admin.Service.Interface;
using Vns.Erp.Core.Service;
using Vns.Erp.Core.Service.Interface;
using System.Collections.Generic;
using System.ServiceModel.Activation;
using Vns.Erp.Core.Domain;
namespace Vns.Erp.Core.Admin.Service
{
	/// <summary>
	///	Generated by MyGeneration using the NHibernate Object Mapping adapted by Gustavo
	/// </summary>	
    [AspNetCompatibilityRequirements(RequirementsMode = AspNetCompatibilityRequirementsMode.Allowed)]
	public class DmTaikhoanService:GenericService<DmTaikhoan,Guid>, IDmTaikhoanService
	{
	     public IDmTaikhoanDao DmTaikhoanDao
        {
            get { return (IDmTaikhoanDao)Dao; }
            set { Dao = value; }
        }
         public IList<DmTaikhoan> GetAllByDonviID(Guid DonviId)
         {
             return DmTaikhoanDao.GetAllByDonviID(DonviId);
         }

         public IList<DmTaikhoan> GetAllByParentID(Guid parentId)
         {
            return DmTaikhoanDao.GetAllByParentID(parentId);
         }

         public void SetChiTietTKCha(Guid parent_id, int ChiTiet)
         {
             DmTaikhoanDao.SetChiTietTKCha(parent_id, ChiTiet);
         }
         //public IList<DmTaikhoan> GetAllByDonviID(int PageIndex, int PageSize,Guid DonviId, out int TotalResult)
         //{

         //    ArrayList props = new ArrayList();
         //    ArrayList values = new ArrayList();
         //    ArrayList expressions = new ArrayList();

         //    props.Add("DonviId");
         //    values.Add(DonviId);
         //    expressions.Add("=");
         //    IList<VnsOrder> orders = new List<VnsOrder>();
         //    VnsOrder order = new VnsOrder(true, "MaTaikhoan");
         //    orders.Add(order);
         //    TotalResult = DmTaikhoanDao.GetCount(props, values, expressions);
         //    return DmTaikhoanDao.List(PageIndex, PageSize, props, values,orders);
         //}
        

         public DmTaikhoan GetObjectByMaTK(String MaTaikhoan, Guid DonviId)
         {
             ArrayList props = new ArrayList();
             ArrayList values = new ArrayList();
             props.Add("DonviId");
             values.Add(DonviId);
             props.Add("MaTaikhoan");
             values.Add(MaTaikhoan);
             IList<DmTaikhoan> lst = DmTaikhoanDao.List(-1, -1, props, values);

             if (lst == null || lst.Count == 0)
                 return null;
             else
                 return lst[0];
         }
	}
}
